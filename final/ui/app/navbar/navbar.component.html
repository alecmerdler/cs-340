<!-- Normal Navbar -->
<md-toolbar class="md-hue-2"
            ng-if="!$ctrl.showSearch">
    <div layout="column">
            <div class="md-toolbar-tools">
                <div layout="row" style="cursor: pointer;" flex>
                    <span ng-click="$ctrl.viewChange.emit('home')">TubeRoom</span>
                </div>
                <div ng-if="!$ctrl.currentUser">
                    <md-button ng-click="$ctrl.viewChange.emit('login')">Login</md-button>
                </div>
                <!-- Search -->
                <div class="search-icon" layout="column" layout-align="center center" hide-gt-xs
                     ng-click="$ctrl.toggleSearch()">
                    <i class="material-icons">search</i>
                </div>
                <div class="search-container desktop-search" layout="row" layout-align="center center" flex hide-xs>
                    <div class="search-icon">
                        <i class="material-icons">search</i>
                    </div>
                    <input type="text" placeholder="Search"
                           ng-model="$ctrl.searchText"
                           ng-change="$ctrl.search.emit($ctrl.searchText)">
                </div>
                <div ng-if="$ctrl.currentUser"
                     class="user-menu-toggle" layout="row" layout-align="center center"
                     ng-click="$ctrl.logout.emit()">
                    <md-tooltip>Logout</md-tooltip>
                    <img src="https://ssl.gstatic.com/images/branding/product/1x/avatar_circle_blue_512dp.png"
                         class="md-avatar" height="40" width="40">
                    <span>{{ $ctrl.currentUser.firstName }}</span>
                </div>
            </div>
            <div class="md-toolbar-tools" hide-gt-xs>
                <md-button class="md-icon-button" flex
                           ng-click="$ctrl.viewChange.emit('home')">
                    <i class="material-icons">home</i>
                </md-button>
                <md-button class="md-icon-button" flex
                           ng-click="$ctrl.viewChange.emit('browse')">
                    <i class="material-icons">movie</i>
                </md-button>
            </div>
        </div>
    </md-toolbar>
</div>

<!-- Mobile Search Bar -->
<md-toolbar class="toolbar-fade" hide-gt-xs
            ng-if="$ctrl.showSearch">
    <div class="md-toolbar-tools search-toolbar">
        <!-- Back button -->
        <div layout="column" layout="center center" class="search-back-btn"
             ng-click="$ctrl.toggleSearch()">
            <i class="material-icons">arrow_back</i>
        </div>
        <!-- Search input -->
        <div class="search-container" layout="column" layout-align="center center" flex>
            <input type="text" placeholder="Search"
                   ng-model="$ctrl.searchText"
                   ng-change="$ctrl.search.emit($ctrl.searchText)">
        </div>
    </div>
</md-toolbar>
